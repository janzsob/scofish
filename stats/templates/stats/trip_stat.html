{% extends "base.html" %}
{% block title %}Scofish - Statisztika{% endblock %}
{% block content %}

<!-- Catch summary -->
<div class="row justify-content-center text-center my-3 mx-2">
    <div class="m-0 p-0" style="width: 30rem;">
        <h2 class="fw-bold">游닇 칐sszegz칠s</h2>
        <table class="table table-light table-hover mb-1" >
            <thead>
            <tr>
                <th scope="col">S칰ly (kg)</th>
                <th scope="col">Darab</th>
                <th scope="col">Fog치s치tlag (kg)</th>
            </tr>
            </thead>
            <tbody>
            <!-- If there is no catch yet. -->
            {% if catches_num == 0 %}
            <tr>
                <td>0</td>
                <td>0</td>    
                <td>0</td>
            </tr>
            {% else %}
            <tr>
                <td>{{ weight_sum }}</td>
                <td>{{ catches_num }}</td>    
                <td>{{ weight_avg|floatformat:2 }}</td>
            </tr>
            {% endif %}
            
            </tbody>
        </table>
    </div> <!-- style end -->
</div>

<!-- Ranking fishermen -->
<div class="row justify-content-center text-center mb-3 mx-2">
    <div class="p-0 m-0" style="width: 30rem;">
        <h2 class="fw-bold">游끤 Rangsor</h2>
        <table class="table table-light table-hover mb-1">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Horg치sz</th>
                <th scope="col">S칰ly (kg)</th>
                <th scope="col">Darab</th>
            </tr>
            </thead>
            <tbody>
            <!-- If there is no catch yet. -->
            {% if catches_num == 0 %}
            <tr>
                <th scope="row"></th>
                <td>-</td>
                <td>0</td>
                <td>0</td>
            </tr>
            {% else %}
            {% for fisherman in fishermen_catches %}
            <tr>
                <th scope="row">
                <!-- medals for the first 3 places -->
                {% if forloop.counter == 1 %}
                    游볞
                {% elif forloop.counter == 2 %}
                    游볟
                {% elif forloop.counter == 3 %}
                    游볠
                {% else %}

                {% endif %}
                </th>
                <td>
                    {{ fisherman }}</td>
                <td>{{ fisherman.sum_catch|default_if_none:0 }}</td> <!-- If value is None, it'll dipslay 0. -->
                <td>{{ fisherman.num_catch }}</td>
            </tr>
            {% endfor %}
            {% endif %}
            </tbody>
        </table>
    </div>
</div>

<!-- Max catch -->
<div class="row justify-content-center text-center mb-3 mx-2">
    <div class="m-0 p-0" style="width: 18rem;">
        <h2 class="fw-bold">游끥 Max fog치s</h2>
        <table class="table table-light table-hover mb-1">
            <thead>
            <tr>
                <th scope="col">Horg치sz</th>
                <th scope="col">S칰ly (kg)</th>
            </tr>
            </thead>
            <tbody>
                <!-- If there is no catch yet. -->
                {% if catches_num == 0 %}
                <tr>
                    <td>-</td>
                    <td>0</td>
                </tr>
                {% else %}
                {% for catch_m in catch_max %}
                <tr>
                    <td>{{ catch_m.fisherman }}</td>
                    <td>{{ catch_m.weight }}</td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div> 
</div>


{% endblock content %}